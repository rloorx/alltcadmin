<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/common.css">
    <title>마이페이지화면</title>
</head>
<body>
    <div id="my">
        <div class="wrap">
            <header class="aside-header">
                <h1><img src="./img/logo-white.png" alt="올티칭 스터디카페"></h1>
                <ul>
                    <li>
                        <a href="#"><img src="./img/icon-dashboard-white.png"><span>홈</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-chart-white.png"><span>매출 관리</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-store-white.png"><span>매장 관리</span></a>
                        <ul>
                            <li><a href="#"><img src="./img/icon-info-white.png"><span>운영정보 설정</span></a></li>
                            <li><a href="#"><img src="./img/icon-notify-white.png"><span>알림 관리</span></a></li>
                            <li><a href="#"><img src="./img/icon-setting-white.png"><span>기기 관리</span></a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-group-white.png"><span>회원 관리</span></a>
                        <ul>
                            <li><a href="#"><img src="./img/icon-man-white.png">회원 관리</a></li>
                            <li><a href="#"><img src="./img/icon-enter-white.png">입·퇴실 관리</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-item-white.png"><span>이용상품</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-seat-white.png"><span>실시간 이용현황</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-board-white.png"><span>공지사항</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-event-white.png"><span>이벤트 배너 관리</span></a>
                    </li>
                    <li class="mobile">
                        <a href="#"><img src="./img/icon-notify-white.png" alt="알림"><span>공지사항</span></a>
                    </li>
                    <li class="mobile">
                        <a href="#"><img src="./img/icon-my-white.png"><span>마이페이지</span></a>
                    </li>
                    <li class="mobile">
                        <a href="#"><img src="./img/icon-logout-white.png"><span>로그아웃</span></a>
                    </li>
                </ul>
            </header>
            <main class="main">
                <div class="main-header">
                    <div class="in">
                        <span>광명 직영점 (관리자)님, 환영합니다!</span>
                        <div class="notify">
                            <a href="#"><img src="./img/icon-notify.png" alt="알림"></a>
                            <span class="noti-value">99</span>
                        </div>
                        <div class="my">
                            <a href="#"><img src="./img/icon-my.png"><span>마이페이지</span></a>
                        </div>
                        <div class="logout">
                            <a href="#"><img src="./img/icon-logout.png"><span>로그아웃</span></a>
                        </div>
                        <div class="mobile-header">
                            <h1><img src="./img/logo.png"></h1>
                            <div class="mobile-menu">
                                <img src="./img/icon-menu.png">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="in">
                    <h2><img src="./img/icon-my-30px.png"><span>마이페이지</span></h2>
                    <div class="my-info-area">
                        <div class="top-area">
                            <h3><img src="./img/icon-store.png">매장 기본 정보</h3>
                        </div>
                        <div class="info-flex-area">
                            <div class="info-left">
                                <div class="thumb-upload default">
                                    <img src="./img/upload-img.png">
                                    <h3>매장 이미지를 업로드하세요.</h3>
                                    <span>JPG, PNG 파일 (최대 5MB)</span>
                                </div>
                                <div class="thumb-upload upload"> <!--이미지 등록됐을때-->
                                    <button><img src="./img/icon-delete.png" alt="삭제하기"></button>
                                </div>
                                <ul>
                                    <li>
                                        <span>매장명</span>
                                        <input type="text" value="올티칭 스터디카페 광명 직영점"> 
                                    </li>
                                    <li>
                                        <span>매장주소</span>
                                        <input type="text" value="경기 광명시 하안로 293-8 성우빌딩 5층, 6층"> 
                                    </li>
                                    <li>
                                        <span>오픈일자</span>
                                        <input type="text" value="2020/01/01" disabled>
                                    </li>
                                </ul>
                            </div>
                            <div class="info-right">
                                <ul>
                                    <li>
                                        <span>매장 연락처</span>
                                        <div class="input-box">
                                            <input type="text" value="010-2250-8230">
                                            <img src="./img/icon-edit.png" alt="수정하기" class="edit">
                                        </div>
                                        <div class="btn-edit"> <!--li에 on 들어갈때 btn-edit 활성화됩니당-->
                                            <button class="cancel"><img src="./img/icon-close-16px.png">취소</button>
                                            <button class="save"><img src="./img/icon-check-16px.png">저장</button>
                                        </div>
                                    </li>
                                    <li>
                                        <span>사업자등록번호</span>
                                        <div class="input-box">
                                            <input type="text" value="123-45-67890">
                                            <img src="./img/icon-edit.png" alt="수정하기" class="edit">
                                        </div>
                                        <div class="btn-edit"> <!--li에 on 들어갈때 btn-edit 활성화됩니당-->
                                            <button class="cancel"><img src="./img/icon-close-16px.png">취소</button>
                                            <button class="save"><img src="./img/icon-check-16px.png">저장</button>
                                        </div>
                                    </li>
                                    <li>
                                        <span>매장 입실 비밀번호</span>
                                        <div class="input-box">
                                            <input type="text" value="1234">
                                            <img src="./img/icon-edit.png" alt="수정하기" class="edit">
                                        </div>
                                        <div class="btn-edit"> <!--li에 on 들어갈때 btn-edit 활성화됩니당-->
                                            <button class="cancel"><img src="./img/icon-close-16px.png">취소</button>
                                            <button class="save"><img src="./img/icon-check-16px.png">저장</button>
                                        </div>
                                    </li>
                                    <li>
                                        <span>홈페이지</span>
                                        <div class="input-box">
                                            <input type="text" value="https://franchise.all-teaching.com/Landing?bpage=allsca" disabled>
                                            <div class="img-box">
                                                <img src="./img/icon-link.png" alt="바로가기" class="link">
                                                <img src="./img/icon-edit.png" alt="수정하기" class="edit">
                                            </div>
                                        </div>
                                        <div class="btn-edit"> <!--li에 on 들어갈때 btn-edit 활성화됩니당-->
                                            <button class="cancel"><img src="./img/icon-close-16px.png">취소</button>
                                            <button class="save"><img src="./img/icon-check-16px.png">저장</button>
                                        </div>
                                    </li>
                                    <li>
                                        <span>인스타그램</span>
                                        <div class="input-box">
                                            <input type="text" value="https://www.instagram.com/allteaching2/" disabled>
                                            <div class="img-box">
                                                <img src="./img/icon-link.png" alt="바로가기" class="link">
                                                <img src="./img/icon-edit.png" alt="수정하기" class="edit">
                                            </div>
                                        </div>
                                        <div class="btn-edit"> <!--li에 on 들어갈때 btn-edit 활성화됩니당-->
                                            <button class="cancel"><img src="./img/icon-close-16px.png">취소</button>
                                            <button class="save"><img src="./img/icon-check-16px.png">저장</button>
                                        </div>
                                    </li>
                                    <li>
                                        <span>네이버 지도 링크</span>
                                        <div class="input-box">
                                            <input type="text" value="https://map.naver.com/p/entry/place/1960938799?lng=126.8795043&lat=37.4617407&placePath=/home?..." disabled>
                                            <div class="img-box">
                                                <img src="./img/icon-link.png" alt="바로가기" class="link">
                                                <img src="./img/icon-edit.png" alt="수정하기" class="edit">
                                            </div>
                                        </div>
                                        <div class="btn-edit"> <!--li에 on 들어갈때 btn-edit 활성화됩니당-->
                                            <button class="cancel"><img src="./img/icon-close-16px.png">취소</button>
                                            <button class="save"><img src="./img/icon-check-16px.png">저장</button>
                                        </div>
                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="my-info-area-bottom">
                        <div class="bottom-left">
                            <div class="top-area">
                                <h3><img src="./img/icon-store.png">점주 기본 정보</h3>
                            </div>
                            <ul>
                                <li>
                                    <span>이름</span>
                                    <input type="text" value="김점주">
                                </li>
                                <li>
                                    <span>연락처</span>
                                    <div class="input-box">
                                        <input type="text" value="010-2250-8230">
                                        <img src="./img/icon-edit.png" alt="수정하기" class="edit">
                                    </div>
                                    <div class="btn-edit"> <!--li에 on 들어갈때 btn-edit 활성화됩니당-->
                                        <button class="cancel"><img src="./img/icon-close-16px.png">취소</button>
                                        <button class="save"><img src="./img/icon-check-16px.png">저장</button>
                                    </div>
                                </li>
                                <li>
                                    <span>이메일</span>
                                    <div class="input-box">
                                        <input type="text" value="owner@store.com">
                                        <img src="./img/icon-edit.png" alt="수정하기" class="edit">
                                    </div>
                                    <div class="btn-edit"> <!--li에 on 들어갈때 btn-edit 활성화됩니당-->
                                        <button class="cancel"><img src="./img/icon-close-16px.png">취소</button>
                                        <button class="save"><img src="./img/icon-check-16px.png">저장</button>
                                    </div>
                                </li>
                                <li>
                                    <span>아이디</span>
                                    <input type="text" value="storeowner01">
                                </li>
                                <li>
                                    <span>비밀번호</span>
                                    <div class="pwd-area">
                                        <input type="text" value="12345678">
                                        <button class="reset-pwd">비밀번호 재설정</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="bottom-right">
                            <div class="reset-box">
                                <h2><img src="./img/icon-password-color.png">비밀번호 변경</h2>
                                <span>새 비밀번호</span>
                                <div class="pwd-box pwd-box01">
                                    <input type="password" placeholder="새 비밀번호를 입력하세요.(4자리 숫자 입력)" id="password-input">
                                    <img src="./img/icon-show.png" id="toggle-password">
                                </div>
                                <span>새 비밀번호 확인</span>
                                <div class="pwd-box">
                                    <input type="password" placeholder="새 비밀번호를 다시 입력하세요.">
                                    <span>비밀번호 틀렸을때 노출</span>
                                </div>
                                <div class="btn-area">
                                    <button class="cancel">취소</button>
                                    <button class="save">수정</button>
                                </div>
                            </div>              
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <div class="modal"></div>


    </div>



    <script>
document.addEventListener('DOMContentLoaded', function () {
    const gnbItems = document.querySelectorAll('.aside-header > ul > li');

    function clearAllActive() {
        gnbItems.forEach(item => {
            item.classList.remove('on');
            const subLis = item.querySelectorAll('ul li');
            subLis.forEach(subLi => {
                subLi.classList.remove('on');
            });
        });
    }

    function initializeGNB() {
        const first = gnbItems[0];
        first.classList.add('on');

        const sub = first.querySelector('ul li');
        if (sub) {
            sub.classList.add('on');
        }
    }

    // GNB 클릭 이벤트
    gnbItems.forEach(item => {
        const gnbLink = item.querySelector('a');

        gnbLink.addEventListener('click', function (e) {
            e.preventDefault();

            // 상위 메뉴 초기화
            clearAllActive();

            // 본인 on 설정
            item.classList.add('on');

            const subLi = item.querySelector('ul li');
            if (subLi) {
                subLi.classList.add('on');
            }
        });

        // 하위 메뉴 클릭 이벤트
        const subItems = item.querySelectorAll('ul li');
        subItems.forEach(subLi => {
            const subLink = subLi.querySelector('a');

            subLink.addEventListener('click', function (e) {
                e.preventDefault();

                // 상위 메뉴 활성화 유지
                gnbItems.forEach(gnb => {
                    if (gnb.contains(subLi)) {
                        gnb.classList.add('on');
                    } else {
                        gnb.classList.remove('on');
                        const others = gnb.querySelectorAll('ul li');
                        others.forEach(li => {
                            li.classList.remove('on');
                        });
                    }
                });

                // 현재 하위메뉴만 on
                const siblings = subLi.parentElement.querySelectorAll('li');
                siblings.forEach(sib => {
                    sib.classList.remove('on');
                });

                subLi.classList.add('on');
            });
        });
    });

    initializeGNB();
});

document.querySelector('.mobile-menu').addEventListener('click', function () {
    document.querySelector('.modal')?.classList.add('on');
    document.querySelector('.aside-header')?.classList.add('on');
});
document.querySelector('.modal').addEventListener('click', function () {
    this.classList.remove('on');
    document.querySelector('.aside-header')?.classList.remove('on');
});

document.addEventListener("DOMContentLoaded", () => {
  const listItems = document.querySelectorAll("li");

  listItems.forEach(li => {
    const editBtn = li.querySelector(".edit");
    const saveBtn = li.querySelector(".save");
    const cancelBtn = li.querySelector(".cancel");
    const linkBtn = li.querySelector(".link");
    const input = li.querySelector("input");

    if (!input) return;

    // 최초 상태 저장
    input.setAttribute("data-original", input.value);
    input.setAttribute("data-disabled-original", input.hasAttribute("disabled"));

    // edit 버튼 클릭 시
    if (editBtn) {
      editBtn.addEventListener("click", () => {
        li.classList.add("on");
        input.removeAttribute("disabled");
      });
    }

    // save 버튼 클릭 시
    if (saveBtn) {
      saveBtn.addEventListener("click", () => {
        li.classList.remove("on");
        // 원래 disabled였던 input만 다시 disabled 처리
        if (input.getAttribute("data-disabled-original") === "true") {
          input.setAttribute("disabled", true);
        }
        // 저장된 값 갱신
        input.setAttribute("data-original", input.value);
      });
    }

    // cancel 버튼 클릭 시
    if (cancelBtn) {
      cancelBtn.addEventListener("click", () => {
        li.classList.remove("on");
        // 원래 disabled였던 input만 다시 disabled 처리
        if (input.getAttribute("data-disabled-original") === "true") {
          input.setAttribute("disabled", true);
        }
        // 원래 값 복구
        input.value = input.getAttribute("data-original");
      });
    }

    // link 버튼 클릭 시
    if (linkBtn) {
      linkBtn.addEventListener("click", () => {
        const url = input.value.trim();
        if (url) {
          window.open(url.startsWith("http") ? url : "https://" + url, "_blank");
        }
      });
    }
  });
});

const resetBtn = document.querySelector(".reset-pwd");
const bottomRight = document.querySelector(".bottom-right");

if (resetBtn && bottomRight) {
resetBtn.addEventListener("click", () => {
    bottomRight.classList.add("on");
});
}
const toggleIcon = document.getElementById('toggle-password');
const passwordInput = document.getElementById('password-input');
let isVisible = false;

toggleIcon.addEventListener('click', () => {
    isVisible = !isVisible;
    passwordInput.type = isVisible ? 'text' : 'password';
    toggleIcon.src = isVisible ? './img/icon-hide.png' : './img/icon-show.png';
});

    </script>
</body>
</html>