<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/common.css">
    <title>기기관리화면</title>
</head>
<body>
    <div id="device-setting">
        <div class="wrap">
            <header class="aside-header">
                <h1><img src="./img/logo-white.png" alt="올티칭 스터디카페"></h1>
                <ul>
                    <li>
                        <a href="#"><img src="./img/icon-dashboard-white.png"><span>홈</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-chart-white.png"><span>매출 관리</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-store-white.png"><span>매장 관리</span></a>
                        <ul>
                            <li><a href="#"><img src="./img/icon-info-white.png"><span>운영정보 설정</span></a></li>
                            <li><a href="#"><img src="./img/icon-notify-white.png"><span>알림 관리</span></a></li>
                            <li><a href="#"><img src="./img/icon-setting-white.png"><span>기기 관리</span></a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-group-white.png"><span>회원 관리</span></a>
                        <ul>
                            <li><a href="#"><img src="./img/icon-man-white.png">회원 관리</a></li>
                            <li><a href="#"><img src="./img/icon-enter-white.png">입·퇴실 관리</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-item-white.png"><span>이용상품</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-seat-white.png"><span>실시간 이용현황</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-board-white.png"><span>공지사항</span></a>
                    </li>
                    <li>
                        <a href="#"><img src="./img/icon-event-white.png"><span>이벤트 배너 관리</span></a>
                    </li>
                    <li class="mobile">
                        <a href="#"><img src="./img/icon-notify-white.png" alt="알림"><span>공지사항</span></a>
                    </li>
                    <li class="mobile">
                        <a href="#"><img src="./img/icon-my-white.png"><span>마이페이지</span></a>
                    </li>
                    <li class="mobile">
                        <a href="#"><img src="./img/icon-logout-white.png"><span>로그아웃</span></a>
                    </li>
                </ul>
            </header>
            <main class="main">
                <div class="main-header">
                    <div class="in">
                        <span>광명 직영점 (관리자)님, 환영합니다!</span>
                        <div class="notify">
                            <a href="#"><img src="./img/icon-notify.png" alt="알림"></a>
                            <span class="noti-value">99</span>
                        </div>
                        <div class="my">
                            <a href="#"><img src="./img/icon-my.png"><span>마이페이지</span></a>
                        </div>
                        <div class="logout">
                            <a href="#"><img src="./img/icon-logout.png"><span>로그아웃</span></a>
                        </div>
                        <div class="mobile-header">
                            <h1><img src="./img/logo.png"></h1>
                            <div class="mobile-menu">
                                <img src="./img/icon-menu.png">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="in">
                    <h2><img src="./img/icon-setting-30px.png"><span>기기 관리</span></h2>
                    <div class="box-area door">
                        <div class="area-top">
                            <h3>⚙ 장비 관리</h3>
                            <button><img src="./img/icon-add.png"><span>장비 등록</span></button>
                        </div>
                        <div class="box">
                            <div class="toast-pop">
                                <span class="state success">문이 열림 명령을 전송했습니다.</span>
                                <span class="state failed" style="display: none;">명령 전송에 실패했습니다. 다시 시도하거나 관리자에 문의하세요.</span>
                            </div>
                            <div class="box-top">
                                <img src="./img/icon-door.png">
                                <span>매장 출입문</span>
                            </div>
                            <div class="box-flex">
                                <div class="left">
                                    <p>장비명</p>
                                    <p>매장 출입문</p>
                                    <p>시리얼 넘버</p>
                                    <p>AJYS201060073</p>
                                    <p>TID</p>
                                    <p>11935135</p>
                                    <p>생성일자</p>
                                    <p>2025.03.07</p>
                                </div>
                                <div class="right">
                                    <button>🔓 문 열기</button>
                                    <div class="btn-box">
                                        <button class="edit">수정</button>
                                        <button class="delete">삭제</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box-area wifi">
                        <div class="area-top">
                            <h3>⚙ 네트워크 관리</h3>
                            <button><img src="./img/icon-add.png"><span>와이파이 등록</span></button>
                        </div>
                        <div class="box">
                            <div class="box-top">
                                <div class="top-left">
                                    <div class="img-wrap"><img src="./img/wifi-img.png"></div>
                                    <div class="txt-wrap">
                                        <h4>5층</h4>
                                        <span>네트워크 타입 : 5G</span>
                                    </div>
                                </div>
                                <div class="top-right">
                                    <button class="edit">수정</button>
                                    <button class="delete">삭제</button>
                                </div>
                            </div>
                            <div class="box-flex">
                                <div class="wifi-info">
                                    <p>네트워크 ID (SSID)</p>
                                    <p>KT_GiGA_5G_B278</p>
                                </div>
                                <div class="wifi-info">
                                    <p>비밀번호</p>
                                    <p>1234567</p>
                                </div>
                            </div>
                        </div>
                        <div class="box">
                            <div class="box-top">
                                <div class="top-left">
                                    <div class="img-wrap"><img src="./img/wifi-img.png"></div>
                                    <div class="txt-wrap">
                                        <h4>6층</h4>
                                        <span>네트워크 타입 : 5G</span>
                                    </div>
                                </div>
                                <div class="top-right">
                                    <button class="edit">수정</button>
                                    <button class="delete">삭제</button>
                                </div>
                            </div>
                            <div class="box-flex">
                                <div class="wifi-info">
                                    <p>네트워크 ID (SSID)</p>
                                    <p>KT_GiGA_5G_B278</p>
                                </div>
                                <div class="wifi-info">
                                    <p>비밀번호</p>
                                    <p>1234567</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </main>
        </div>

        <div class="modal"></div>

        <!-- 장비 삭제 확인 -->
        <div class="pop-up seats-confirm-pop tickets pop-outside">
            <div class="seats-name">
                <h3>장비 삭제 확인</h3>
            </div>
            <div class="pop-bottombtn">
                <button class="cancel">취소</button>
                <button class="save">삭제</button>
            </div>
            <div class="pop-area">
                <h3>장비명</h3>
                <h3 class="small">해당 장비를 삭제하시겠습니까?</h3>
                <span class="red">삭제된 장비는 복구할 수 없습니다.</span>
            </div>           
        </div>


        <!-- 삭제 완료 팝업 -->
        <div class="pop-up fin success pop-outside" style="display: none;">
            <div class="pop-bottombtn">
                <button class="save">확인</button>
            </div>
            
            <div class="pop-area">
                <img src="./img/check-img.png">
                <h3>삭제되었습니다.</h3>
            </div>           
        </div>

        <!-- 장비 등록 팝업 -->
        <div class="pop-up device-add default pop-outside" style="display: none;">
            <div class="pop-top">
                <h2>장비 등록</h2>
                <button class="close-pop" style="display: none;"><img src=""></button>
            </div>
            <div class="pop-bottombtn">
                <button class="cancel">취소</button>
                <button class="save">등록</button>
            </div>
            <div class="pop-area">
                <div class="pop-box">
                    <span>장비 명</span>
                    <input type="text" placeholder="장비명을 입력하세요. (예 : 출입문)">
                </div>
                <div class="pop-box">
                    <span>시리얼 번호</span>
                    <input type="text" placeholder="시리얼 번호를 입력하세요.">
                </div>
                <div class="pop-box">
                    <span>TID</span>
                    <input type="text" placeholder="TID를 입력하세요.">
                </div>
            </div>           
        </div>

        <!-- 장비 상세 팝업 -->
        <div class="pop-up device-add detail pop-outside" style="display: none;">
            <div class="pop-top">
                <h2>장비 상세</h2>
                <button class="close-pop" style="display: none;"><img src=""></button>
            </div>
            <div class="pop-bottombtn">
                <button class="cancel">닫기</button>
                <button class="save">수정</button>
            </div>
            <div class="pop-area">
                <div class="pop-box">
                    <span>장비 명</span>
                    <input type="text" value="출입문">
                </div>
                <div class="pop-box-flex">
                    <div class="pop-box">
                        <span>시리얼 번호</span>
                        <input type="text" value="AJYS201060067">
                    </div>
                    <div class="pop-box">
                        <span>TID</span>
                        <input type="text" value="11888252">
                    </div>
                </div>
                <div class="pop-box">
                    <span>생성일자</span>
                    <input type="text" value="2024.07.17" disabled>
                </div>
            </div>           
        </div>

        <!-- 와이파이 등록 팝업 -->
        <div class="pop-up device-add wifi-add pop-outside" style="display: none;">
            <div class="pop-top">
                <h2>와이파이 등록</h2>
                <button class="close-pop" style="display: none;"><img src=""></button>
            </div>
            <div class="pop-bottombtn">
                <button class="cancel">취소</button>
                <button class="save">등록</button>
            </div>
            <div class="pop-area">
                <div class="pop-box">
                    <span>네트워크 명</span>
                    <input type="text" placeholder="네트워크 명을 입력하세요.">
                </div>
                <div class="pop-box-flex">
                    <div class="pop-box">
                        <span>SSID</span>
                        <input type="text" placeholder="SSID를 입력하세요.">
                    </div>
                    <div class="pop-box">
                        <span>비밀번호</span>
                        <input type="text" placeholder="비밀번호를 입력하세요.">
                    </div>
                </div>
                <div class="pop-box">
                    <span>타입</span>
                    <select>
                        <option value="5G">5G</option>
                        <option value="2.4G">2.4G</option>
                    </select>
                </div>
            </div>           
        </div>

        <!-- 와이파이 상세 팝업 -->
        <div class="pop-up device-add wifi-detail pop-outside" style="display: none;">
            <div class="pop-top">
                <h2>네트워크 상세</h2>
                <button class="close-pop" style="display: none;"><img src=""></button>
            </div>
            <div class="pop-bottombtn">
                <button class="cancel">닫기</button>
                <button class="save">수정</button>
            </div>
            <div class="pop-area">
                <div class="pop-box">
                    <span>네트워크 명</span>
                    <input type="text" value="5층">
                </div>
                <div class="pop-box-flex">
                    <div class="pop-box">
                        <span>SSID</span>
                        <input type="text" value="AJYS201060067">
                    </div>
                    <div class="pop-box">
                        <span>비밀번호</span>
                        <input type="text" value="11888252">
                    </div>
                </div>
                <div class="pop-box">
                    <span>타입</span>
                    <select>
                        <option value="5G">5G</option>
                        <option value="2.4G">2.4G</option>
                    </select>
                </div>
            </div>           
        </div>


    </div>



    <script>
document.addEventListener('DOMContentLoaded', function () {
    const gnbItems = document.querySelectorAll('.aside-header > ul > li');

    function clearAllActive() {
        gnbItems.forEach(item => {
            item.classList.remove('on');
            const subLis = item.querySelectorAll('ul li');
            subLis.forEach(subLi => {
                subLi.classList.remove('on');
            });
        });
    }

    function initializeGNB() {
        const first = gnbItems[0];
        first.classList.add('on');

        const sub = first.querySelector('ul li');
        if (sub) {
            sub.classList.add('on');
        }
    }

    // GNB 클릭 이벤트
    gnbItems.forEach(item => {
        const gnbLink = item.querySelector('a');

        gnbLink.addEventListener('click', function (e) {
            e.preventDefault();

            // 상위 메뉴 초기화
            clearAllActive();

            // 본인 on 설정
            item.classList.add('on');

            const subLi = item.querySelector('ul li');
            if (subLi) {
                subLi.classList.add('on');
            }
        });

        // 하위 메뉴 클릭 이벤트
        const subItems = item.querySelectorAll('ul li');
        subItems.forEach(subLi => {
            const subLink = subLi.querySelector('a');

            subLink.addEventListener('click', function (e) {
                e.preventDefault();

                // 상위 메뉴 활성화 유지
                gnbItems.forEach(gnb => {
                    if (gnb.contains(subLi)) {
                        gnb.classList.add('on');
                    } else {
                        gnb.classList.remove('on');
                        const others = gnb.querySelectorAll('ul li');
                        others.forEach(li => {
                            li.classList.remove('on');
                        });
                    }
                });

                // 현재 하위메뉴만 on
                const siblings = subLi.parentElement.querySelectorAll('li');
                siblings.forEach(sib => {
                    sib.classList.remove('on');
                });

                subLi.classList.add('on');
            });
        });
    });

    initializeGNB();
});

document.querySelector('.mobile-menu').addEventListener('click', function () {
    document.querySelector('.modal')?.classList.add('on');
    document.querySelector('.aside-header')?.classList.add('on');
});
document.querySelector('.modal').addEventListener('click', function () {
    this.classList.remove('on');
    document.querySelector('.aside-header')?.classList.remove('on');
});

function openPopup(popup) {
    if (!popup) return;
    const scrollTop = window.scrollY || window.pageYOffset;
    popup.style.position = 'absolute'; // 필요 시 fixed 가능
    popup.style.top = (scrollTop + 100) + 'px';
    popup.style.left = '50%';
    popup.style.transform = 'translateX(-50%)';
    popup.style.display = 'block';
}

document.querySelectorAll('.box-area.wifi button.edit').forEach(button => {
    button.addEventListener('click', () => {
        document.querySelectorAll('.pop-outside').forEach(popup => {
            popup.style.display = 'none';
        });

        const popup = document.querySelector('.pop-up.device-add.wifi-detail');
        openPopup(popup);

        const modal = document.querySelector('.modal');
        if (modal) modal.classList.add('on');
    });
});

document.querySelectorAll('button.delete').forEach(button => {
    button.addEventListener('click', () => {
        document.querySelectorAll('.pop-outside').forEach(popup => {
            popup.style.display = 'none';
        });

        const popup = document.querySelector('.pop-up.seats-confirm-pop');
        openPopup(popup);

        const modal = document.querySelector('.modal');
        if (modal) modal.classList.add('on');
    });
});

document.querySelector('.pop-up.seats-confirm-pop button.save').addEventListener('click', () => {
    document.querySelectorAll('.pop-outside').forEach(popup => {
        popup.style.display = 'none';
    });

    const popup = document.querySelector('.pop-up.fin.success');
    openPopup(popup);

    const modal = document.querySelector('.modal');
    if (modal) modal.classList.add('on');
});

document.querySelector('.box-area.door .area-top button').addEventListener('click', () => {
    document.querySelectorAll('.pop-outside').forEach(popup => {
        popup.style.display = 'none';
    });

    const popup = document.querySelector('.pop-up.device-add.default');
    openPopup(popup);

    const modal = document.querySelector('.modal');
    if (modal) modal.classList.add('on');
});

document.querySelector('.box-area.door button.edit').addEventListener('click', () => {
    document.querySelectorAll('.pop-outside').forEach(popup => {
        popup.style.display = 'none';
    });

    const popup = document.querySelector('.pop-up.device-add.detail');
    openPopup(popup);

    const modal = document.querySelector('.modal');
    if (modal) modal.classList.add('on');
});

document.querySelector('.box-area.wifi .area-top button').addEventListener('click', () => {
    document.querySelectorAll('.pop-outside').forEach(popup => {
        popup.style.display = 'none';
    });

    const popup = document.querySelector('.pop-up.device-add.wifi-add');
    openPopup(popup);

    const modal = document.querySelector('.modal');
    if (modal) modal.classList.add('on');
});


document.querySelector('.modal').addEventListener('click', function () {
    this.classList.remove('on');
    document.querySelectorAll('.pop-outside').forEach(popup => {
        popup.style.display = 'none';
    });
});


    </script>
</body>
</html>